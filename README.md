# ๐ Link Shortener
**Link Shortener** โ ััะพ ัะตัะฒะธั ะดะปั ัะพะบัะฐัะตะฝะธั ะดะปะธะฝะฝัั URL-ะฐะดัะตัะพะฒ. ะะฝ ะฟะพะดะดะตัะถะธะฒะฐะตั ััะฐะฝะตะฝะธะต ัััะปะพะบ ะบะฐะบ ะฒ ะฟะฐะผััะธ, ัะฐะบ ะธ ะฒ ะฑะฐะทะต ะดะฐะฝะฝัั PostgreSQL.

---

## ๐ฅ ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั ะฟัะพะตะบัะฐ:
- ๐ ะะตะฝะตัะฐัะธั ะบะพัะพัะบะธั ัััะปะพะบ ะดะปั ะดะปะธะฝะฝัั URL.
- ๐ ะะตัะตะฝะฐะฟัะฐะฒะปะตะฝะธะต ะฟะพ ะบะพัะพัะบะพะน ัััะปะบะต ะฝะฐ ะพัะธะณะธะฝะฐะปัะฝัะน URL.
- ๐ ะะพะดะดะตัะถะบะฐ ััะฐะฝะตะฝะธั ัััะปะพะบ ะฒ ะฟะฐะผััะธ ะธะปะธ ะฑะฐะทะต ะดะฐะฝะฝัั PostgreSQL.
- ๐ REST API ะดะปั ะธะฝัะตะณัะฐัะธะธ ั ะบะปะธะตะฝัะฐะผะธ.
- ๐ณ ะะฐะฟััะบ ัะตัะตะท Docker.
- โ Unit-ัะตััั ะดะปั ะฟัะพะฒะตัะบะธ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััะธ.

---

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```plaintext
๐ฆ link-shortener
โโโ ๐ cmd/              # ะขะพัะบะฐ ะฒัะพะดะฐ (main.go)
โโโ ๐internal/
โ   โโโ ๐service/
โ   โ   โโโ handlers.go  # ะะฑัะฐะฑะพััะธะบะธ API-ะทะฐะฟัะพัะพะฒ
โ   โโโ ๐storage/
โ   โ   โโโ memory.go    # ะฅัะฐะฝะธะปะธัะต ะฒ ะฟะฐะผััะธ
โ   โ   โโโ postgres.go  # ะฅัะฐะฝะธะปะธัะต ะฒ PostgreSQL
โโโ ๐tests/             # Unit-ัะตััั
โโโ go.mod               # ะะฐะฒะธัะธะผะพััะธ ะฟัะพะตะบัะฐ
โโโ go.sum               # ะะพะฝััะพะปัะฝัะต ััะผะผั ะทะฐะฒะธัะธะผะพััะตะน
โโโ Dockerfile           # ะะพะฝัะธะณััะฐัะธั ะดะปั ะบะพะฝัะตะนะฝะตัะธะทะฐัะธะธ
โโโ ๐.github/
โ   โโโ workflows/
โ       โโโ push.yaml    # CI pipeline
```

---

## ๐ ะะฐะฟััะบ ะฟัะพะตะบัะฐ

### 1๏ธโฃ ะะพะบะฐะปัะฝัะน ะทะฐะฟััะบ (ะฑะตะท Docker)
๐ *ะขัะตะฑะพะฒะฐะฝะธั: Go 1.22+ ะธ PostgreSQL (ะตัะปะธ ะธัะฟะพะปัะทัะตัะต ะฑะฐะทั ะดะฐะฝะฝัั)*

**ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน**
```sh
go mod download
```
**ะะฐะฟััะบ ัะตัะฒะตัะฐ ั ััะฐะฝะธะปะธัะตะผ ะฒ ะฟะฐะผััะธ**
```sh
cd cmd/
go build -o myapp main.go
./myapp --storage=memory
```
**ะะฐะฟััะบ ัะตัะฒะตัะฐ ั PostgreSQL (ะทะฐะผะตะฝะธัะต ัััะพะบั ะฟะพะดะบะปััะตะฝะธั)**
```sh
go build -o myapp main.go
./myapp --storage=postgres --db="postgres://user:password@localhost/dbname?sslmode=disable"
```

### 2๏ธโฃ ะะฐะฟััะบ ัะตัะตะท Docker
๐ณ *ะขัะตะฑะพะฒะฐะฝะธั: ัััะฐะฝะพะฒะปะตะฝ Docker*

**ะกะพะฑะธัะฐะตะผ ะพะฑัะฐะท**
```sh
sudo docker build -t link-shortener .
```
**ะะฐะฟััะบะฐะตะผ ะบะพะฝัะตะนะฝะตั (ะฟะพ ัะผะพะปัะฐะฝะธั ััะฐะฝะธะปะธัะต ะฒ ะฟะฐะผััะธ)**
```sh
sudo docker run -p 8080:8080 -e STORAGE_TYPE=memory link-shortener
```
**ะะฐะฟััะบ ั PostgreSQL (ะทะฐะผะตะฝะธัะต ัััะพะบั ะฟะพะดะบะปััะตะฝะธั)**
```sh
sudo docker run -p 8080:8080 -e STORAGE_TYPE=postgres -e DB_CONN_STR="postgres://user:password@localhost/dbname?sslmode=disable" link-shortener
```

---

## ๐ง API ัะฝะดะฟะพะธะฝัั

### โ ะกะพะทะดะฐะฝะธะต ะบะพัะพัะบะพะน ัััะปะบะธ (POST /shorten)

**ะะฐะฟัะพั:**
```sh
POST http://localhost:8080/shorten
```
```json
{
  "url": "https://example.com"
}
```
**ะัะฒะตั:**
```json
{
    "short_url": "http://localhost:8080/EAaArVRs5q"
}
```

### ๐ ะะตะดะธัะตะบั ะฟะพ ะบะพัะพัะบะพะน ัััะปะบะต (GET /{short_url})

**ะะฐะฟัะพั:**
```sh
GET http://localhost:8080/EAaArVRs5q
```
**ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:** `ะะตะดะธัะตะบั ะฝะฐ https://example.com`

---

## ๐ ะะฐะฟััะบ unit-ัะตััะพะฒ

ะะฐะฟัััะธัั ัะตััั ะผะพะถะฝะพ ะฒัััะฝัั ะฒ ัะตัะผะธะฝะฐะปะต:
```sh
go test -v ./tests/
```

---

## ๐ CI (GitHub Actions)
ะัะพะตะบั ะธัะฟะพะปัะทัะตั GitHub Actions ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ัะตััะธัะพะฒะฐะฝะธั.

ะัะธ ะบะฐะถะดะพะผ push ะฒ ัะตะฟะพะทะธัะพัะธะน ะฐะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะฟััะบะฐัััั:

โ๏ธ ะัะพะฒะตัะบะฐ ะบะพะดะฐ (go vet)

โ๏ธ Unit-ัะตััั (go test)

ะคะฐะนะป: `.github/workflows/push.yaml`

---